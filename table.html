<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <title>jquery table demo</title>
    
    <link rel="stylesheet" href="css/jquery.table.css">
    <style type="text/css">
	    body, html{
		height: 100%;
		padding: 0;
		margin: 0;
		}
		.insert_table{
			width: 900px;
			height: 500px;
			margin: 200px auto 0;
			padding: 10px;
		}
    </style>
</head>
<body>
<div class="insert_table">

</div>

<script type="text/javascript" src="https://apps.bdimg.com/libs/jquery/1.11.3/jquery.min.js"></script>
<script type="text/javascript" src="js/jquery.table.js"></script>
<script type="text/javascript">

var xData, yData, cData, options;
options = {
	keyGroup: {
		idKey: "id",
		xIdKey: "uuid",
		yIdKey: "uid",
		txtKey: "uuName",
		xTxtKey: "uuName",
		yTxtKey: "uName",
	},
	tName: {
		xName: "医生", 
		yName: "时段"
	},
	cssProperty: {
		tdHeight: 60,
		tdWidth: 150,
		tHeadHeight: 0,
		tHeadWidth: 100,
		tdRrightPadding: 20
	},
	addNewCDataCallBack: function(data, obj){
		console.log(data)
		obj.css("background", "red");
	}
}


$.ajax({
	type: "GET",
	url: "json/xdata.json",
	dataType: "json",
	success: function(msg){
	    xData = msg;
	},
	error: function(msg){
	    console.log(msg);	
	}
})
$.ajax({
	type: "GET",
	url: "json/ydata.json",
	dataType: "json",
	success: function(msg){
	    yData = msg;
	},
	error: function(msg){
	    console.log(msg);	
	}
})
$.ajax({
	type: "GET",
	url: "json/cdata.json",
	dataType: "json",
	success: function(msg){
	    cData = msg;
	},
	error: function(msg){
	    console.log(msg);	
	}
})
var timer = null;
timer = setInterval(function(){
    if(xData&&yData&&cData){
        clearInterval(timer);
        $(".insert_table").setJQueryTable(xData, yData, cData, options);
    }
}, 100);
</script>
</body>
</html>
